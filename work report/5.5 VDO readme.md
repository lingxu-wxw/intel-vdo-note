#### 5.5 VDO readme

---

```
VDO(其中包括[kvdo (https://github.com/dm-vdo/kvdo)和[VDO](https://github.com/dm-vdo/vdo))是一种为主存提供内联块级重复数据删除、压缩和精简供应功能的软件。VDO安装在Linux设备映射器框架中，它获取现有物理块设备的所有权，并将这些物理块设备映射到具有数据效率功能的更高级别的新块设备。

重复数据删除技术是一种通过消除重复块的多个副本来减少存储资源消耗的技术。压缩采用单独的独特块，并缩小他们与编码算法;这些简化块然后有效地打包成物理块。精简配置管理从VDO提供的lba到数据实际存储位置的映射，并消除所有零的任何块。

在重复数据删除技术中，不需要多次写入相同的数据，而是检测到每个重复的块并将其记录为对原始块的引用。VDO维护一个从逻辑块地址(由VDO上面的存储层使用)到物理块地址(由VDO下面的存储层使用)的映射。重复数据删除后，多个逻辑块地址可以映射到同一个物理块地址;这些被称为共享块，由软件进行参考计数。

使用VDO的压缩，多个块(或共享块)被快速LZ4算法压缩，并在可能的情况下绑定在一起，这样多个压缩块就可以位于底层存储的一个4kb块中。从LBA映射到所需压缩数据的物理块地址和其中的索引。所有的压缩块都单独进行参考计数以确保其正确性。

对于使用存储的应用程序来说，块共享和块压缩是不可见的，因为如果没有VDO，应用程序就会读写块。当一个共享块被覆盖时，会分配一个新的物理块来存储新的块数据，以确保映射到共享物理块的其他逻辑块地址不会被修改。

VDO的这个公共源代码版本包括两个内核模块和一组用于管理它们的用户空间工具。“kvdo”模块实现了细粒度的存储虚拟化、精简配置、块共享和压缩;“uds”模块提供内存有效的重复标识。用户空间工具包括一对python脚本，“vdo”用于创建和管理vdo卷，“vdostats”用于从这些卷中提取统计信息。
```

